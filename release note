From the changes listed in the K3s v1.31.0 release, there are no specific changes that directly address a DNS issue related to K3s not finding a running service. However, there are several updates that could indirectly impact service discovery and networking, which might be worth exploring if you're experiencing DNS-related issues:

1. **Fix Multiple Issues with ServiceLB (#10552)**: This addresses problems with the Service Load Balancer (ServiceLB), including issues that could cause it to fail when creating daemonsets for services with long names or when running on nodes with IPv6 disabled. While this doesn't directly mention DNS, ServiceLB is crucial for internal and external service access, which could indirectly impact DNS resolution.

2. **Ensure remotedialer kubelet connections use kubelet bind address (#10480)**: This fix addresses an issue where setting the `--bind-address` flag could prevent `kubectl logs` from working correctly, suggesting some adjustments were made in service connections that might affect network behavior.

3. **Fix loadbalancer reentrant rlock (#10511)**: Fixes an issue that could cause the agent load balancer to deadlock when the currently in-use server goes down, which could affect service connectivity and, consequently, service discovery processes.

4. **Fix: Add $SUDO prefix to transactional-update commands in install script (#10531)**: This change ensures certain commands are executed correctly, which might resolve environment-specific issues indirectly affecting DNS or service communication.

If your issue specifically pertains to DNS resolution failures within K3s, you might want to review your clusterâ€™s DNS configuration, CoreDNS setup, and ensure that any related service meshes or load balancers are functioning correctly. For DNS issues that aren't directly addressed in this update, further investigation into your cluster logs and DNS configurations might be required.
